<html>
	<head>
		<title>DataGrid test file</title>
		<link href="test.css" rel="stylesheet" type="text/css">
	</head>
	<body>
		<div id="grid-display"></div>

		<script src="datagrid.js"></script>
		<script>
			var grid = document.getElementById('grid-display');

			function addCell(color){
				var newCell = document.createElement("div");
				newCell.className = "cell " + color;
				grid.appendChild(newCell);
				return color;
			};

			function setCell(color){
				grid.children[cellcounter].className = "cell " + color;
				cellcounter++;
				return color;
			}

			function buildGrid(){
				grid.setAttribute("style","width: "+(testGrid.width)*20+"px;")
				while (grid.hasChildNodes()) {
				    grid.removeChild(grid.lastChild);
				}
				testGrid.forAll(addCell);
			};

			function drawGrid(){
				cellcounter = 0;
				testGrid.forAll(setCell);
			}

			function testCallback(value){
				if (value == "red"){
					return "green";
				};
				return value;
			}

			function lifeCycle(){
				testGrid.runLifeAll("blue","white");
				drawGrid();
			}

			var testGrid = new DataGrid(30,30,["white","blue"],true,true);
			buildGrid();
			
			drawCycle = setInterval(lifeCycle, 100);
		</script>
	</body>
</html>